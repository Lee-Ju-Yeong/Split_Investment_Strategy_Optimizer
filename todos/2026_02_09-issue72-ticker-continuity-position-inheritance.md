# Issue #72: Ticker Continuity & Position Inheritance

## 1. 개요 (Background)
현재 시스템은 '종목코드(Ticker)'를 독립적인 식별자로 취급합니다. 이로 인해 우리은행(000030) → 우리금융지주(316140)와 같이 기업 구조 개편으로 티커가 변경되는 경우, 백테스터는 이를 '기존 종목의 상장폐지'와 '새로운 종목의 상장'으로 인식하여 포지션이 단절되는 문제가 발생합니다.

## 2. 핵심 문제 (Core Problem)
- **전략적 연속성 파괴**: 매직스플릿은 분할 매수 차수와 평단가 유지가 수익률의 핵심이나, 티커 변경 시 모든 상태가 리셋되어 시뮬레이션의 신뢰도가 훼손됨.
- **데이터 불연속성**: 신규 티커 초기 단계에서 과거 이력 부재로 인해 유동성 Tier가 오판정(예: 신규 종목으로 간주되어 Tier 3 할당)될 리스크가 있음.

## 3. 다각도 논의 필요 사항 (Multi-agent Discussion Points)
*본 이슈의 해결 방안은 추후 **멀티 에이전트의 다각도 관점**에서 논의되어야 합니다.*

- **[Data Perspective] 계보 정의 및 추출**: `get_stock_major_changes` 데이터를 기반으로 합병, 분할, 지주사 전환 등 복잡한 기업 이벤트를 어디까지 '동일 경제적 실체'로 정의하고 자동 추출할 것인가?
- **[Engine Perspective] 아키텍처 대응**: 
    - CPU: `Portfolio` 내부의 티커 매핑 로직 도입 시 객체 참조 무결성 확보 방안.
    - GPU: 텐서 구조에서 불연속적인 티커 데이터를 논리적으로 연결할 때 발생하는 성능 저하 및 메모리 레이아웃 설계.
- **[Strategy Perspective] 수학적 정합성**: 단순 티커 변경이 아닌 '주식 교환' 발생 시, 교환 비율에 따른 수량/가격 보정 로직이 전략 수익률에 미치는 영향 분석.

## 4. 관련 리소스 및 의존성
- pykrx: `stock.get_stock_major_changes`
- 관련 이슈: #70 (상폐 포함 PIT 유니버스) - 계보 데이터가 유니버스 히스토리에 통합되어야 함.

## 5. 할 일 (Initial Tasks)
- [ ] 티커 변경 및 기업 구조 개편 대표 사례(우리은행, SK 등) 데이터 샘플링
- [ ] **[설계 논의]** 멀티 에이전트 기반의 포지션 승계 로직 아키텍처 워크샵 수행
- [ ] 계보 관리용 매핑 테이블(`TickerAncestry`) 스키마 설계
